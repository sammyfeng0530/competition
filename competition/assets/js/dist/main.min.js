!function o(r,c,l){function s(t,e){if(!c[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var i=c[t]={exports:{}};r[t][0].call(i.exports,function(e){return s(r[t][1][e]||e)},i,i.exports,o,r,c,l)}return c[t].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)s(l[e]);return s}({1:[function(e,t,n){"use strict";function a(){var e=$(".contest-news-text ul li:first");e.animate({marginTop:-$(".contest-news-text ul li").height()},500,function(){e.css("marginTop",0),$(".contest-news-text ul").append(e)})}$("#editor").wysiwyg({fileUploadError:function(e,t){var n="";"unsupported-file-type"===e?n="Unsupported format "+t:console.log("error uploading file",e,t),$('<div class="alert"> <button type="button" class="close" data-dismiss="alert">&times;</button><strong>File upload error</strong> '+n+" </div>").prependTo("#alerts")}}),$(function(){!function(){var e=$("#news-gallery .caption"),t=$("#news-gallery .news-gallery-text");e.css({width:$("#news-gallery a").find("img").css("width")}),t.html($("#news-gallery a:first").find("img").attr("rel")).animate({opacity:.85},400),setInterval(function(){var e=$("#news-gallery a.show")?$("#news-gallery a.show"):$("#news-gallery a:first"),t=e.next().length?e.next().hasClass("caption")?$("#news-gallery a:first"):e.next():$("#news-gallery a:first"),n=t.find("img").attr("rel");t.css({opacity:0}).addClass("show").animate({opacity:1},1e3),e.animate({opacity:0},1e3).removeClass("show"),$("#news-gallery .caption").animate({opacity:0},{queue:!1,duration:50}).animate({height:"1px"},{queue:!0,duration:1e3}),$("#news-gallery .caption").animate({opacity:.85},0).animate({height:"50px"},1e3),$("#news-gallery .news-gallery-text").html(n)},3e3)}();var e=setInterval(a,3e3);$(".contest-news-text ul li").hover(function(){clearInterval(e)},function(){e=setInterval(a,3e3)}),function(){var e=$(".scheme-item").length,t=(e+1)/2;if(e%2==0){var n=$(".scheme-item:nth-of-type("+e/2+")");n.addClass("active"),n.prev().addClass("prev"),n.next().addClass("next")}else{var a=$(".scheme-item:nth-of-type("+t+")");a.addClass("active"),a.prev().addClass("prev"),a.next().addClass("next")}$("html body").keydown(function(e){37===e.keyCode?$(".active").prev().trigger("click"):39===e.keyCode&&$(".active").next().trigger("click")})}(),function(){var n=$("[title=Font]").siblings(".dropdown-menu");if($.each(["Serif","Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"],function(e,t){n.append($('<li><a data-edit="fontName '+t+'" style="font-family:\''+t+"'\">"+t+"</a></li>"))}),$(".dropdown-menu input").click(function(){return!1}).change(function(){$(this).parent(".dropdown-menu").siblings(".dropdown-toggle").dropdown("toggle")}).keydown("esc",function(){this.value="",$(this).change()}),"onwebkitspeechchange"in document.createElement("input")){var e=$("#editor").offset();$("#voiceBtn").css("position","absolute").offset({top:e.top,left:e.left+$("#editor").innerWidth()-35})}else $("#voiceBtn").hide()}()});!function(e){var t=$(".left-menu nav li");t.children("a.current").removeClass("current");for(var n=0,a=t.length;n<a;n++)if(t.eq(n).children("a").attr("href")===e){t.eq(n).children("a").addClass("current");break}}("index.php"+window.location.search),function(e){var t=$(".menu ul li a");t.removeClass("active");for(var n=0,a=t.length;n<a;n++)if(t.eq(n).attr("href")===e){t.eq(n).addClass("active");break}}("index.php"+window.location.search);var i=$(".menu ul li a.active").text();$(document).attr("title","企业管理虚拟实景实验设计大赛-"+i)},{}],2:[function(e,t,n){"use strict";function i(){$(".mask").fadeOut(),$(".popup-form").fadeOut(),$(".login-form").fadeOut()}function o(e,t){$(".prompt-form p").html(e),$(".mask").fadeToggle(),$(".popup-form").fadeToggle(),$(".confirm-button").click(t)}function r(e){$(".right-content").load(e+" .right-container").fadeIn("slow")}function a(e,a){$(document).on("click",e,function(e){e.preventDefault();var t=$(this).parents("form"),n=$(".left-menu nav a.current").attr("href");o(a,function(){!function(e,t){console.log(e.attr("action")),$.ajax({type:"POST",url:e.attr("action"),data:$(e).serialize(),dataType:"text",beforeSend:function(e){e.setRequestHeader("Ajax-Request","true")},success:function(){i(),r(t)}})}(t,n)})})}$(document).on("click",".scheme-item",function(){$(this).removeClass("prev next active"),$(this).siblings().removeClass("prev active next"),$(this).addClass("active"),$(this).prev().addClass("prev"),$(this).next().addClass("next")}),$(document).on("click",".close",function(){i()}),$(document).on("click",".logout-btn a",function(e){e.preventDefault();var t=this.href;o("是否确认退出？",function(){$.get(t),window.location.href="index.php?controller=Index&method=index"})}),$(document).on("click",".confirm-signup a",function(e){e.preventDefault();var t=this.href,n=$(".left-menu nav a.current").attr("href");$("input[type='checkbox']").is(":checked")?o("是否确认报名？一旦报名成功，将无法撤销报名并加入新成员、更改队伍资料。",function(){$.ajax({type:"GET",url:t,success:function(){r(n),i()}})}):o("请先仔细报名规则，并勾选选框。",i)}),$(document).on("click",".update",function(){$(".form-horizontal input").removeAttr("disabled").css("background","rgba(255,255,255,.95)"),$(".form-horizontal .update").toggle(),$(".form-horizontal .return").toggle(),$(".form-horizontal .confirm").toggle()}),$(document).on("click",".return a",function(){var e=$(".left-menu nav a.current").attr("href");$(".right-container").remove(),r(e)}),$(document).on("click",".join-or-create-team input[class='operate-radio']:radio",function(){var e=$(this).val();$(".team-form").hide().eq(e).show()}),$(document).on("onclick",".scheme-name a",function(){var e=this.href;$.ajax({type:"GET",url:e,success:function(){$(".contest-scheme-content >section").load(e+" .scheme-section").fadeIn("slow")}})}),$(document).on("click",".upload-scheme a",function(e){e.preventDefault();var t=this.href,n=$(".left-menu nav a.current").attr("href"),a={scheme_name:$("input[name='scheme_name']").val(),scheme_content:$("#editor").html()};o("是否确认提交？",function(){$.ajax({type:"POST",url:t,data:a,success:function(){r(n),i()}})})}),$(document).on("click",".edit-scheme a",function(e){e.preventDefault(),$(".scheme-content-show").hide(),$(".scheme-editor").show()}),$(document).on("click",".contest-intro .more",function(e){e.preventDefault(),$(".menu ul.nav>li:nth-of-type(2) a").click()}),$(document).on("keyup","#join-team-form input[name='team_id'],#join-team-form input[name='team_invitation_code']",function(){var e=$("input[name='team_id']").val(),t=$("input[name='team_invitation_code']").val(),n={team_invitation_code:t,team_id:e};e&&t&&$.post("index.php?controller=Team&method=showTeam",n,function(e){$("#userJoinInTeamInfo").html(e).fadeIn()})});function c(e){$(document).on("click",e,function(e){e.preventDefault();var t=$(this).attr("href"),n=$(".menu ul.nav-tabs>li:last-of-type a"),a=$(".menu li.btn-group:last-of-type ul.dropdown-menu>li:last-of-type a");t==n.attr("href")&&n.click(),t==a.attr("href")&&a.click()})}$("#join-team-form").validate({rules:{team_id:{required:!0,minlength:7,maxlength:7},team_invitation_code:"required"},messages:{team_id:{required:"团队ID不能为空",minlength:"格式错误",maxlength:"格式错误"},team_invitation_code:"邀请码不能为空"}}),$("#create-team-form").validate({rules:{team_name:{required:!0,minlength:1,maxlength:20},team_invitation_code:"required"},messages:{team_name:{required:"队名不能为空",minlength:"格式错误",maxlength:"格式错误"},team_invitation_code:"邀请码不能为空"}}),$(document).on("keyup blur","#create-team-form input[name='team_name'],#create-team-form input[name='team_invitation_code']",function(){$("#create-team-form").valid()?$(".addTeam button").prop("disabled",!1):$(".addTeam button").prop("disabled","disabled")}),$(function(){a(".confirm","是否确认提交？"),a(".join-in-submit button","是否确认加入队伍？"),a(".addTeam button","是否确认创建队伍？"),c(".sign-up-online .more a"),c(".sign-up-button a")})},{}],3:[function(e,t,n){"use strict";$(function(){l(),i()});function r(e){var t=$(".left-menu nav li");t.children("a.current").removeClass("current");for(var n=0,a=t.length;n<a;n++)if(t.eq(n).children("a").attr("href")===e){t.eq(n).children("a").addClass("current");break}}function c(e,t,n){var a={pageurl:e,pagetitle:t};n&&(console.log("push state of "+a),history.pushState(a,t,e))}var l=function(){$(".menu ul li a").off().on("click",function(e){e.preventDefault();var t=$(this).attr("href"),n=$(this).text();return $(".menu ul li a.active").attr("href")!==t&&a(t,n,!0),!1})},a=function(e,t,n){var a=$(".menu ul li a");a.removeClass("active");for(var i=0,o=a.length;i<o;i++)if(a.eq(i).attr("href")===e){a.eq(i).addClass("active");break}$(document).attr("title","虚拟实景实验设计大赛-"+t),$(".hp-content").load(e+" .hp-container",function(){l(),r(e),$(".scheme-item:nth-of-type(3)").click()}).fadeIn("slow"),c(e,t,n)},i=function(){$(".left-menu nav li a").off().on("click",function(e){e.preventDefault();var t=$(this).attr("href"),n=$(this).text();$(".left-menu nav li a.current").attr("href")!==t&&o(t,n,!0)})},o=function(e,t,n){r(e),$(document).attr("title","虚拟实景实验设计大赛-"+t),$(".right-content").load(e+" .right-container",function(){i()}).fadeIn("slow"),c(e,t,n)};history.pushState&&window.addEventListener("popstate",function(){history.state&&a(history.state.pageurl,history.state.pagetitle,!1)},!1),$(document).on("click",".left-menu nav li a",function(e){e.preventDefault();var t=$(this).attr("href"),n=$(this).text();return $(".left-menu nav li a.current").attr("href")!==t&&o(t,n,!0),!1}),$(document).on("click",".menu ul li a",function(e){e.preventDefault();var t=$(this).attr("href"),n=$(this).text();return $(".menu ul li a.active").attr("href")!==t&&a(t,n,!0),!1})},{}],4:[function(e,t,n){"use strict";$(function(){var e,t;e=Cookies.get("user_id"),t=Cookies.get("user_pwd"),null===e||0==e?$("input[name='user_id']").val(""):$("input[name='user_id']").val(e),null===t||0==t?$("input[name='user_pwd']").val(""):($("input[name='user_pwd']").val(t),$("input[name='remember']").prop("checked",!0)),$("#login-form .custom-button .btn").on("click",function(){$("input[name='remember']").is(":checked")?function(){var e=$("input[name='user_id']").val(),t=$("input[name='user_pwd']").val(),n=$("input[name='remember']").is(":checked");if(console.log(n),n){var a=new Date;a.setTime(a.getTime()+6e4),Cookies.get("user_id",e,{expires:a,path:"/"}),Cookies.get("user_pwd",t,{expires:a,path:"/"})}else Cookies.get("user_id",null),Cookies.get("user_pwd",null)}():function(){var e=new Date;e.setTime(e.getTime()-1e4);var t=document.cookie.match(/[^ =;]+(?=\=)/g);if(console.log("需要删除的cookie名字："+t),t)for(var n=t.length;n--;)document.cookie=t[n]+"=0; expire="+e.toGMTString()+"; path=/"}()});var n=new SliderUnlock(".slideunlock-slider",{},function(){$("input[name='code_input']").prop("checked",!0)},function(){$(".warn").text("index:"+n.index+"， max:"+n.max+",lableIndex:"+n.lableIndex+",value:"+$(".slideunlock-lockable").val()+" date:"+(new Date).getUTCDate())});n.init(),$("#resetBtn").on("click",function(){n.reset(),$("input[name='code_input']").prop("checked",!1)}),$("#login-form").validate({rules:{user_id:{required:!0,minlength:7,maxlength:10},user_pwd:"required",code_input:{required:!0}},messages:{user_id:{required:"学号不能为空",minlength:"格式错误",maxlength:"格式错误"},user_pwd:"密码不能为空",code_input:{required:"请输入验证码"}}}),$("#signup-form").validate({rules:{user_id:{required:!0,minlength:7,maxlength:10,remote:{url:"index.php?controller=User&method=canSignup",type:"post",async:!1,dataType:"json",data:{user_id:function(){return $("#signup-form input[name='user_id']").val()}}}},user_name:"required",user_pwd:"required",pwd_comfirm:{required:!0,equalTo:"#pwd"}},messages:{user_id:{required:"学号不能为空",minlength:"格式错误",maxlength:"格式错误",remote:"账号已经存在"},user_name:"用户名不能为空",user_pwd:"密码不能为空",pwd_comfirm:{required:"请重新输入密码",equalTo:"两次密码输入不一致"}}}),$(".login-btn").on("click",function(){$(".tab-group .tab:nth-child(2)").removeClass("active"),$(".tab-group .tab:nth-child(1)").addClass("active"),$("#login-part").show(),$("#register-part").hide()}),$(".signup-btn").on("click",function(){$(".tab-group .tab:nth-child(1)").removeClass("active"),$(".tab-group .tab:nth-child(2)").addClass("active"),$("#login-part").hide(),$("#register-part").show()}),$(".login-form .tab a").on("click",function(e){e.preventDefault(),$(this).parent().addClass("active"),$(this).parent().siblings().removeClass("active"),target=$(this).attr("href"),$(".tab-content > div").not(target).hide(),$(target).fadeIn(600)});function a(e){$(document).on("click",e,function(){$(".mask").fadeToggle(),$(".login-form").fadeToggle()})}a(".login-btn"),a(".signup-btn"),a(".mask")})},{}],5:[function(e,t,n){"use strict";e("./components/animation-effect"),e("./components/jq-history"),e("./components/click-event"),e("./components/login-and-register")},{"./components/animation-effect":1,"./components/click-event":2,"./components/jq-history":3,"./components/login-and-register":4}]},{},[5]);
//# sourceMappingURL=main.min.js.map
